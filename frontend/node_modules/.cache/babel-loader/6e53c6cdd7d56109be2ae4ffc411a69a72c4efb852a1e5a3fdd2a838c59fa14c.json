{"ast":null,"code":"var _jsxFileName = \"E:\\\\Cline\\\\allm\\\\frontend\\\\src\\\\components\\\\Notebook.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { Box, Typography, IconButton, Drawer, List, ListItem, ListItemText, ListItemSecondaryAction, Divider, Paper, Tooltip, Fab, TextField, Chip, Menu, MenuItem, InputAdornment, Button, Dialog, DialogTitle, DialogContent, DialogActions, Select, FormControl, InputLabel } from '@mui/material';\nimport { Close as CloseIcon, Save as SaveIcon, Delete as DeleteIcon, Edit as EditIcon, NoteAdd as NoteAddIcon, MenuBook as NotebookIcon, Search as SearchIcon, Label as LabelIcon, Share as ShareIcon, GetApp as ExportIcon, Upload as ImportIcon, Sort as SortIcon, Add as AddIcon } from '@mui/icons-material';\nimport { styled } from '@mui/material/styles';\nimport ReactMarkdown from 'react-markdown';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst StyledDrawer = styled(Drawer)(({\n  theme\n}) => ({\n  '& .MuiDrawer-paper': {\n    width: '400px',\n    maxWidth: '90vw',\n    backgroundColor: theme.palette.background.default,\n    borderLeft: `1px solid ${theme.palette.divider}`\n  }\n}));\n_c = StyledDrawer;\nconst NotebookHeader = styled(Box)(({\n  theme\n}) => ({\n  padding: theme.spacing(2),\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'space-between',\n  borderBottom: `1px solid ${theme.palette.divider}`,\n  backgroundColor: theme.palette.background.paper\n}));\n_c2 = NotebookHeader;\nconst NotebookContent = styled(Box)(({\n  theme\n}) => ({\n  height: 'calc(100vh - 64px)',\n  // Adjust based on header height\n  overflow: 'auto',\n  padding: theme.spacing(2)\n}));\n_c3 = NotebookContent;\nconst NotebookEntry = styled(Paper)(({\n  theme\n}) => ({\n  padding: theme.spacing(2),\n  marginBottom: theme.spacing(2),\n  backgroundColor: theme.palette.background.paper,\n  '&:hover': {\n    boxShadow: theme.shadows[4]\n  }\n}));\n_c4 = NotebookEntry;\nconst FloatingButton = styled(Fab)(({\n  theme\n}) => ({\n  position: 'fixed',\n  right: theme.spacing(3),\n  bottom: theme.spacing(3),\n  zIndex: theme.zIndex.drawer - 1\n}));\n_c5 = FloatingButton;\nconst EmptyState = styled(Box)(({\n  theme\n}) => ({\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'center',\n  justifyContent: 'center',\n  height: '100%',\n  padding: theme.spacing(3),\n  color: theme.palette.text.secondary,\n  '& svg': {\n    fontSize: 48,\n    marginBottom: theme.spacing(2),\n    opacity: 0.5\n  }\n}));\n_c6 = EmptyState;\nfunction Notebook() {\n  _s();\n  var _editingEntry$newTags;\n  const [isOpen, setIsOpen] = useState(false);\n  const [notebooks, setNotebooks] = useState(() => {\n    const saved = localStorage.getItem('notebooks');\n    return saved ? JSON.parse(saved) : [{\n      id: 'default',\n      name: 'Default Notebook',\n      entries: []\n    }];\n  });\n  const [currentNotebookId, setCurrentNotebookId] = useState(() => {\n    const saved = localStorage.getItem('current-notebook');\n    return saved || 'default';\n  });\n  const [notebookDialogOpen, setNotebookDialogOpen] = useState(false);\n  const [notebookDialogMode, setNotebookDialogMode] = useState('add'); // 'add' or 'edit'\n  const [notebookDialogData, setNotebookDialogData] = useState({\n    name: ''\n  });\n  const [entries, setEntries] = useState(() => {\n    var _notebooks$find;\n    return ((_notebooks$find = notebooks.find(n => n.id === currentNotebookId)) === null || _notebooks$find === void 0 ? void 0 : _notebooks$find.entries) || [];\n  });\n  const [editMode, setEditMode] = useState(false);\n  const [selectedEntry, setSelectedEntry] = useState(null);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [sortMenuAnchor, setSortMenuAnchor] = useState(null);\n  const [sortBy, setSortBy] = useState('timestamp');\n  const [sortDirection, setSortDirection] = useState('desc');\n  const [categories, setCategories] = useState(() => {\n    const saved = localStorage.getItem('notebook-categories');\n    return saved ? JSON.parse(saved) : ['General', 'Important', 'Code', 'Ideas'];\n  });\n  const [selectedCategory, setSelectedCategory] = useState('All');\n  const [editDialogOpen, setEditDialogOpen] = useState(false);\n  const [editingEntry, setEditingEntry] = useState(null);\n  useEffect(() => {\n    localStorage.setItem('notebooks', JSON.stringify(notebooks));\n  }, [notebooks]);\n  useEffect(() => {\n    localStorage.setItem('current-notebook', currentNotebookId);\n  }, [currentNotebookId]);\n  useEffect(() => {\n    const handleAddToNotebook = event => {\n      const {\n        detail\n      } = event;\n      if (detail) {\n        setEntries(prev => [...prev, {\n          id: Date.now(),\n          ...detail,\n          category: 'General',\n          tags: [],\n          timestamp: new Date().toISOString()\n        }]);\n        setIsOpen(true);\n      }\n    };\n    window.addEventListener('addToNotebook', handleAddToNotebook);\n    return () => window.removeEventListener('addToNotebook', handleAddToNotebook);\n  }, []);\n  useEffect(() => {\n    setNotebooks(prev => prev.map(notebook => notebook.id === currentNotebookId ? {\n      ...notebook,\n      entries\n    } : notebook));\n  }, [entries, currentNotebookId]);\n  const currentNotebook = useMemo(() => notebooks.find(n => n.id === currentNotebookId) || notebooks[0], [notebooks, currentNotebookId]);\n  const handleDelete = entryId => {\n    setEntries(prev => prev.filter(entry => entry.id !== entryId));\n  };\n  const handleEdit = entry => {\n    setEditingEntry({\n      ...entry,\n      newContent: entry.content,\n      newCategory: entry.category || 'General',\n      newTags: entry.tags || []\n    });\n    setEditDialogOpen(true);\n  };\n  const handleSaveEdit = () => {\n    if (editingEntry) {\n      setEntries(prev => prev.map(entry => entry.id === editingEntry.id ? {\n        ...entry,\n        content: editingEntry.newContent,\n        category: editingEntry.newCategory,\n        tags: editingEntry.newTags,\n        lastEdited: new Date().toISOString()\n      } : entry));\n    }\n    setEditDialogOpen(false);\n    setEditingEntry(null);\n  };\n  const handleAddCategory = newCategory => {\n    if (newCategory && !categories.includes(newCategory)) {\n      setCategories(prev => [...prev, newCategory]);\n    }\n  };\n  const handleAddTag = (entryId, newTag) => {\n    setEntries(prev => prev.map(entry => entry.id === entryId ? {\n      ...entry,\n      tags: [...(entry.tags || []), newTag]\n    } : entry));\n  };\n  const handleExport = () => {\n    const exportData = {\n      entries,\n      categories,\n      version: '1.0'\n    };\n    const blob = new Blob([JSON.stringify(exportData, null, 2)], {\n      type: 'application/json'\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `notebook-export-${new Date().toISOString()}.json`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };\n  const handleImport = event => {\n    var _event$target$files;\n    const file = (_event$target$files = event.target.files) === null || _event$target$files === void 0 ? void 0 : _event$target$files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = e => {\n        try {\n          const importedData = JSON.parse(e.target.result);\n          if (importedData.version && importedData.entries) {\n            setEntries(prev => [...prev, ...importedData.entries]);\n            if (importedData.categories) {\n              setCategories(prev => [...new Set([...prev, ...importedData.categories])]);\n            }\n          }\n        } catch (error) {\n          console.error('Error importing notebook:', error);\n        }\n      };\n      reader.readAsText(file);\n    }\n  };\n  const handleAddNotebook = () => {\n    setNotebookDialogData({\n      name: ''\n    });\n    setNotebookDialogMode('add');\n    setNotebookDialogOpen(true);\n  };\n  const handleEditNotebook = notebook => {\n    setNotebookDialogData({\n      id: notebook.id,\n      name: notebook.name\n    });\n    setNotebookDialogMode('edit');\n    setNotebookDialogOpen(true);\n  };\n  const handleDeleteNotebook = notebookId => {\n    if (notebooks.length === 1) {\n      // Don't allow deleting the last notebook\n      return;\n    }\n    setNotebooks(prev => {\n      const filtered = prev.filter(n => n.id !== notebookId);\n      if (currentNotebookId === notebookId) {\n        // If we're deleting the current notebook, switch to another one\n        setCurrentNotebookId(filtered[0].id);\n      }\n      return filtered;\n    });\n  };\n  const handleNotebookDialogSave = () => {\n    if (!notebookDialogData.name.trim()) return;\n    if (notebookDialogMode === 'add') {\n      const newNotebook = {\n        id: Date.now().toString(),\n        name: notebookDialogData.name.trim(),\n        entries: []\n      };\n      setNotebooks(prev => [...prev, newNotebook]);\n      setCurrentNotebookId(newNotebook.id);\n    } else {\n      setNotebooks(prev => prev.map(notebook => notebook.id === notebookDialogData.id ? {\n        ...notebook,\n        name: notebookDialogData.name.trim()\n      } : notebook));\n    }\n    setNotebookDialogOpen(false);\n  };\n  const filteredAndSortedEntries = entries.filter(entry => {\n    var _entry$metadata, _entry$metadata$model;\n    const matchesSearch = entry.content.toLowerCase().includes(searchQuery.toLowerCase()) || ((_entry$metadata = entry.metadata) === null || _entry$metadata === void 0 ? void 0 : (_entry$metadata$model = _entry$metadata.modelName) === null || _entry$metadata$model === void 0 ? void 0 : _entry$metadata$model.toLowerCase().includes(searchQuery.toLowerCase())) || (entry.tags || []).some(tag => tag.toLowerCase().includes(searchQuery.toLowerCase()));\n    const matchesCategory = selectedCategory === 'All' || entry.category === selectedCategory;\n    return matchesSearch && matchesCategory;\n  }).sort((a, b) => {\n    const aValue = sortBy === 'timestamp' ? a.timestamp : a.content;\n    const bValue = sortBy === 'timestamp' ? b.timestamp : b.content;\n    return sortDirection === 'desc' ? bValue.localeCompare(aValue) : aValue.localeCompare(bValue);\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(FloatingButton, {\n      color: \"primary\",\n      onClick: () => setIsOpen(true),\n      \"aria-label\": \"open notebook\",\n      children: /*#__PURE__*/_jsxDEV(NotebookIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(StyledDrawer, {\n      anchor: \"right\",\n      open: isOpen,\n      onClose: () => setIsOpen(false),\n      children: [/*#__PURE__*/_jsxDEV(NotebookHeader, {\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            children: \"My Notebooks\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n            title: \"Add New Notebook\",\n            children: /*#__PURE__*/_jsxDEV(IconButton, {\n              size: \"small\",\n              onClick: handleAddNotebook,\n              children: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            gap: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(FormControl, {\n            size: \"small\",\n            sx: {\n              minWidth: 120\n            },\n            children: /*#__PURE__*/_jsxDEV(Select, {\n              value: currentNotebookId,\n              onChange: e => setCurrentNotebookId(e.target.value),\n              variant: \"outlined\",\n              sx: {\n                height: 32\n              },\n              children: notebooks.map(notebook => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: notebook.id,\n                children: notebook.name\n              }, notebook.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n            title: \"Edit Current Notebook\",\n            children: /*#__PURE__*/_jsxDEV(IconButton, {\n              size: \"small\",\n              onClick: () => handleEditNotebook(currentNotebook),\n              children: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n            title: notebooks.length === 1 ? \"Cannot delete the last notebook\" : \"Delete Current Notebook\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                size: \"small\",\n                onClick: () => handleDeleteNotebook(currentNotebookId),\n                disabled: notebooks.length === 1,\n                children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 375,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 370,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n            title: \"Export Notebook\",\n            children: /*#__PURE__*/_jsxDEV(IconButton, {\n              onClick: handleExport,\n              children: /*#__PURE__*/_jsxDEV(ExportIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n            title: \"Import Notebook\",\n            children: /*#__PURE__*/_jsxDEV(IconButton, {\n              component: \"label\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                hidden: true,\n                accept: \".json\",\n                onChange: handleImport\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(ImportIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: () => setIsOpen(false),\n            children: /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          p: 2,\n          borderBottom: 1,\n          borderColor: 'divider'\n        },\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          placeholder: \"Search entries...\",\n          value: searchQuery,\n          onChange: e => setSearchQuery(e.target.value),\n          InputProps: {\n            startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n              position: \"start\",\n              children: /*#__PURE__*/_jsxDEV(SearchIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 17\n            }, this)\n          },\n          size: \"small\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mt: 2,\n            display: 'flex',\n            gap: 1,\n            flexWrap: 'wrap'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Chip, {\n            label: \"All\",\n            onClick: () => setSelectedCategory('All'),\n            color: selectedCategory === 'All' ? 'primary' : 'default'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 13\n          }, this), categories.map(category => /*#__PURE__*/_jsxDEV(Chip, {\n            label: category,\n            onClick: () => setSelectedCategory(category),\n            color: selectedCategory === category ? 'primary' : 'default'\n          }, category, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(NotebookContent, {\n        children: filteredAndSortedEntries.length === 0 ? /*#__PURE__*/_jsxDEV(EmptyState, {\n          children: [/*#__PURE__*/_jsxDEV(NoteAddIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body1\",\n            children: searchQuery ? 'No entries match your search' : 'Your notebook is empty. Drag and drop messages here or use the \"Add to Notebook\" option in message menus.'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 13\n        }, this) : filteredAndSortedEntries.map(entry => /*#__PURE__*/_jsxDEV(NotebookEntry, {\n          elevation: 1,\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              justifyContent: 'space-between',\n              mb: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"caption\",\n                color: \"textSecondary\",\n                children: new Date(entry.timestamp).toLocaleString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 448,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                size: \"small\",\n                label: entry.category || 'General',\n                sx: {\n                  ml: 1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 451,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 447,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n                title: \"Edit\",\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  size: \"small\",\n                  onClick: () => handleEdit(entry),\n                  children: /*#__PURE__*/_jsxDEV(EditIcon, {\n                    fontSize: \"small\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 460,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 459,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                title: \"Delete\",\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  size: \"small\",\n                  onClick: () => handleDelete(entry.id),\n                  children: /*#__PURE__*/_jsxDEV(DeleteIcon, {\n                    fontSize: \"small\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 465,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 464,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 457,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(ReactMarkdown, {\n            children: entry.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 17\n          }, this), entry.metadata && /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"caption\",\n            color: \"textSecondary\",\n            sx: {\n              mt: 1,\n              display: 'block'\n            },\n            children: [\"From: \", entry.metadata.modelName || 'Unknown Model']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 19\n          }, this), entry.tags && entry.tags.length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mt: 1,\n              display: 'flex',\n              gap: 0.5,\n              flexWrap: 'wrap'\n            },\n            children: entry.tags.map(tag => /*#__PURE__*/_jsxDEV(Chip, {\n              label: tag,\n              size: \"small\",\n              variant: \"outlined\"\n            }, tag, false, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 23\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 477,\n            columnNumber: 19\n          }, this)]\n        }, entry.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: notebookDialogOpen,\n      onClose: () => setNotebookDialogOpen(false),\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: notebookDialogMode === 'add' ? 'Add New Notebook' : 'Edit Notebook'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 498,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          autoFocus: true,\n          margin: \"dense\",\n          label: \"Notebook Name\",\n          fullWidth: true,\n          value: notebookDialogData.name,\n          onChange: e => setNotebookDialogData(prev => ({\n            ...prev,\n            name: e.target.value\n          }))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 501,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setNotebookDialogOpen(false),\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 512,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleNotebookDialogSave,\n          variant: \"contained\",\n          children: notebookDialogMode === 'add' ? 'Add' : 'Save'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 511,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 494,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: editDialogOpen,\n      onClose: () => setEditDialogOpen(false),\n      maxWidth: \"md\",\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"Edit Entry\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 525,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          multiline: true,\n          rows: 4,\n          value: (editingEntry === null || editingEntry === void 0 ? void 0 : editingEntry.newContent) || '',\n          onChange: e => setEditingEntry(prev => ({\n            ...prev,\n            newContent: e.target.value\n          })),\n          sx: {\n            mt: 2\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 527,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n          fullWidth: true,\n          sx: {\n            mt: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            children: \"Category\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 536,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            value: (editingEntry === null || editingEntry === void 0 ? void 0 : editingEntry.newCategory) || 'General',\n            onChange: e => setEditingEntry(prev => ({\n              ...prev,\n              newCategory: e.target.value\n            })),\n            label: \"Category\",\n            children: categories.map(category => /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: category,\n              children: category\n            }, category, false, {\n              fileName: _jsxFileName,\n              lineNumber: 543,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 537,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 535,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mt: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle2\",\n            gutterBottom: true,\n            children: \"Tags\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 550,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              gap: 0.5,\n              flexWrap: 'wrap'\n            },\n            children: [editingEntry === null || editingEntry === void 0 ? void 0 : (_editingEntry$newTags = editingEntry.newTags) === null || _editingEntry$newTags === void 0 ? void 0 : _editingEntry$newTags.map(tag => /*#__PURE__*/_jsxDEV(Chip, {\n              label: tag,\n              onDelete: () => setEditingEntry(prev => ({\n                ...prev,\n                newTags: prev.newTags.filter(t => t !== tag)\n              }))\n            }, tag, false, {\n              fileName: _jsxFileName,\n              lineNumber: 555,\n              columnNumber: 17\n            }, this)), /*#__PURE__*/_jsxDEV(TextField, {\n              size: \"small\",\n              placeholder: \"Add tag...\",\n              onKeyPress: e => {\n                if (e.key === 'Enter' && e.target.value) {\n                  setEditingEntry(prev => ({\n                    ...prev,\n                    newTags: [...(prev.newTags || []), e.target.value]\n                  }));\n                  e.target.value = '';\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 564,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 553,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 549,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 526,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setEditDialogOpen(false),\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 581,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleSaveEdit,\n          variant: \"contained\",\n          children: \"Save Changes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 582,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 580,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 519,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(Notebook, \"IiyVJ3yOXx9thiDa6LPWUk2p/gs=\");\n_c7 = Notebook;\nexport default Notebook;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n$RefreshReg$(_c, \"StyledDrawer\");\n$RefreshReg$(_c2, \"NotebookHeader\");\n$RefreshReg$(_c3, \"NotebookContent\");\n$RefreshReg$(_c4, \"NotebookEntry\");\n$RefreshReg$(_c5, \"FloatingButton\");\n$RefreshReg$(_c6, \"EmptyState\");\n$RefreshReg$(_c7, \"Notebook\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","Box","Typography","IconButton","Drawer","List","ListItem","ListItemText","ListItemSecondaryAction","Divider","Paper","Tooltip","Fab","TextField","Chip","Menu","MenuItem","InputAdornment","Button","Dialog","DialogTitle","DialogContent","DialogActions","Select","FormControl","InputLabel","Close","CloseIcon","Save","SaveIcon","Delete","DeleteIcon","Edit","EditIcon","NoteAdd","NoteAddIcon","MenuBook","NotebookIcon","Search","SearchIcon","Label","LabelIcon","Share","ShareIcon","GetApp","ExportIcon","Upload","ImportIcon","Sort","SortIcon","Add","AddIcon","styled","ReactMarkdown","jsxDEV","_jsxDEV","Fragment","_Fragment","StyledDrawer","theme","width","maxWidth","backgroundColor","palette","background","default","borderLeft","divider","_c","NotebookHeader","padding","spacing","display","alignItems","justifyContent","borderBottom","paper","_c2","NotebookContent","height","overflow","_c3","NotebookEntry","marginBottom","boxShadow","shadows","_c4","FloatingButton","position","right","bottom","zIndex","drawer","_c5","EmptyState","flexDirection","color","text","secondary","fontSize","opacity","_c6","Notebook","_s","_editingEntry$newTags","isOpen","setIsOpen","notebooks","setNotebooks","saved","localStorage","getItem","JSON","parse","id","name","entries","currentNotebookId","setCurrentNotebookId","notebookDialogOpen","setNotebookDialogOpen","notebookDialogMode","setNotebookDialogMode","notebookDialogData","setNotebookDialogData","setEntries","_notebooks$find","find","n","editMode","setEditMode","selectedEntry","setSelectedEntry","searchQuery","setSearchQuery","sortMenuAnchor","setSortMenuAnchor","sortBy","setSortBy","sortDirection","setSortDirection","categories","setCategories","selectedCategory","setSelectedCategory","editDialogOpen","setEditDialogOpen","editingEntry","setEditingEntry","setItem","stringify","handleAddToNotebook","event","detail","prev","Date","now","category","tags","timestamp","toISOString","window","addEventListener","removeEventListener","map","notebook","currentNotebook","handleDelete","entryId","filter","entry","handleEdit","newContent","content","newCategory","newTags","handleSaveEdit","lastEdited","handleAddCategory","includes","handleAddTag","newTag","handleExport","exportData","version","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","handleImport","_event$target$files","file","target","files","reader","FileReader","onload","e","importedData","result","Set","error","console","readAsText","handleAddNotebook","handleEditNotebook","handleDeleteNotebook","notebookId","length","filtered","handleNotebookDialogSave","trim","newNotebook","toString","filteredAndSortedEntries","_entry$metadata","_entry$metadata$model","matchesSearch","toLowerCase","metadata","modelName","some","tag","matchesCategory","sort","b","aValue","bValue","localeCompare","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","anchor","open","onClose","sx","gap","variant","title","size","minWidth","value","onChange","disabled","component","hidden","accept","p","borderColor","fullWidth","placeholder","InputProps","startAdornment","mt","flexWrap","label","elevation","mb","toLocaleString","ml","autoFocus","margin","multiline","rows","gutterBottom","onDelete","t","onKeyPress","key","_c7","$RefreshReg$"],"sources":["E:/Cline/allm/frontend/src/components/Notebook.js"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\nimport {\n  Box,\n  Typography,\n  IconButton,\n  Drawer,\n  List,\n  ListItem,\n  ListItemText,\n  ListItemSecondaryAction,\n  Divider,\n  Paper,\n  Tooltip,\n  Fab,\n  TextField,\n  Chip,\n  Menu,\n  MenuItem,\n  InputAdornment,\n  Button,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Select,\n  FormControl,\n  InputLabel,\n} from '@mui/material';\nimport {\n  Close as CloseIcon,\n  Save as SaveIcon,\n  Delete as DeleteIcon,\n  Edit as EditIcon,\n  NoteAdd as NoteAddIcon,\n  MenuBook as NotebookIcon,\n  Search as SearchIcon,\n  Label as LabelIcon,\n  Share as ShareIcon,\n  GetApp as ExportIcon,\n  Upload as ImportIcon,\n  Sort as SortIcon,\n  Add as AddIcon,\n} from '@mui/icons-material';\nimport { styled } from '@mui/material/styles';\nimport ReactMarkdown from 'react-markdown';\n\nconst StyledDrawer = styled(Drawer)(({ theme }) => ({\n  '& .MuiDrawer-paper': {\n    width: '400px',\n    maxWidth: '90vw',\n    backgroundColor: theme.palette.background.default,\n    borderLeft: `1px solid ${theme.palette.divider}`,\n  },\n}));\n\nconst NotebookHeader = styled(Box)(({ theme }) => ({\n  padding: theme.spacing(2),\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'space-between',\n  borderBottom: `1px solid ${theme.palette.divider}`,\n  backgroundColor: theme.palette.background.paper,\n}));\n\nconst NotebookContent = styled(Box)(({ theme }) => ({\n  height: 'calc(100vh - 64px)', // Adjust based on header height\n  overflow: 'auto',\n  padding: theme.spacing(2),\n}));\n\nconst NotebookEntry = styled(Paper)(({ theme }) => ({\n  padding: theme.spacing(2),\n  marginBottom: theme.spacing(2),\n  backgroundColor: theme.palette.background.paper,\n  '&:hover': {\n    boxShadow: theme.shadows[4],\n  },\n}));\n\nconst FloatingButton = styled(Fab)(({ theme }) => ({\n  position: 'fixed',\n  right: theme.spacing(3),\n  bottom: theme.spacing(3),\n  zIndex: theme.zIndex.drawer - 1,\n}));\n\nconst EmptyState = styled(Box)(({ theme }) => ({\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'center',\n  justifyContent: 'center',\n  height: '100%',\n  padding: theme.spacing(3),\n  color: theme.palette.text.secondary,\n  '& svg': {\n    fontSize: 48,\n    marginBottom: theme.spacing(2),\n    opacity: 0.5,\n  },\n}));\n\nfunction Notebook() {\n  const [isOpen, setIsOpen] = useState(false);\n  const [notebooks, setNotebooks] = useState(() => {\n    const saved = localStorage.getItem('notebooks');\n    return saved ? JSON.parse(saved) : [{ id: 'default', name: 'Default Notebook', entries: [] }];\n  });\n  const [currentNotebookId, setCurrentNotebookId] = useState(() => {\n    const saved = localStorage.getItem('current-notebook');\n    return saved || 'default';\n  });\n  const [notebookDialogOpen, setNotebookDialogOpen] = useState(false);\n  const [notebookDialogMode, setNotebookDialogMode] = useState('add'); // 'add' or 'edit'\n  const [notebookDialogData, setNotebookDialogData] = useState({ name: '' });\n  const [entries, setEntries] = useState(() => {\n    return notebooks.find(n => n.id === currentNotebookId)?.entries || [];\n  });\n  const [editMode, setEditMode] = useState(false);\n  const [selectedEntry, setSelectedEntry] = useState(null);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [sortMenuAnchor, setSortMenuAnchor] = useState(null);\n  const [sortBy, setSortBy] = useState('timestamp');\n  const [sortDirection, setSortDirection] = useState('desc');\n  const [categories, setCategories] = useState(() => {\n    const saved = localStorage.getItem('notebook-categories');\n    return saved ? JSON.parse(saved) : ['General', 'Important', 'Code', 'Ideas'];\n  });\n  const [selectedCategory, setSelectedCategory] = useState('All');\n  const [editDialogOpen, setEditDialogOpen] = useState(false);\n  const [editingEntry, setEditingEntry] = useState(null);\n\n  useEffect(() => {\n    localStorage.setItem('notebooks', JSON.stringify(notebooks));\n  }, [notebooks]);\n\n  useEffect(() => {\n    localStorage.setItem('current-notebook', currentNotebookId);\n  }, [currentNotebookId]);\n\n  useEffect(() => {\n    const handleAddToNotebook = (event) => {\n      const { detail } = event;\n      if (detail) {\n        setEntries(prev => [...prev, {\n          id: Date.now(),\n          ...detail,\n          category: 'General',\n          tags: [],\n          timestamp: new Date().toISOString()\n        }]);\n        setIsOpen(true);\n      }\n    };\n\n    window.addEventListener('addToNotebook', handleAddToNotebook);\n    return () => window.removeEventListener('addToNotebook', handleAddToNotebook);\n  }, []);\n\n  useEffect(() => {\n    setNotebooks(prev => prev.map(notebook =>\n      notebook.id === currentNotebookId\n        ? { ...notebook, entries }\n        : notebook\n    ));\n  }, [entries, currentNotebookId]);\n\n  const currentNotebook = useMemo(() => \n    notebooks.find(n => n.id === currentNotebookId) || notebooks[0],\n    [notebooks, currentNotebookId]\n  );\n\n  const handleDelete = (entryId) => {\n    setEntries(prev => prev.filter(entry => entry.id !== entryId));\n  };\n\n  const handleEdit = (entry) => {\n    setEditingEntry({\n      ...entry,\n      newContent: entry.content,\n      newCategory: entry.category || 'General',\n      newTags: entry.tags || []\n    });\n    setEditDialogOpen(true);\n  };\n\n  const handleSaveEdit = () => {\n    if (editingEntry) {\n      setEntries(prev => prev.map(entry => \n        entry.id === editingEntry.id\n          ? {\n              ...entry,\n              content: editingEntry.newContent,\n              category: editingEntry.newCategory,\n              tags: editingEntry.newTags,\n              lastEdited: new Date().toISOString()\n            }\n          : entry\n      ));\n    }\n    setEditDialogOpen(false);\n    setEditingEntry(null);\n  };\n\n  const handleAddCategory = (newCategory) => {\n    if (newCategory && !categories.includes(newCategory)) {\n      setCategories(prev => [...prev, newCategory]);\n    }\n  };\n\n  const handleAddTag = (entryId, newTag) => {\n    setEntries(prev => prev.map(entry =>\n      entry.id === entryId\n        ? { ...entry, tags: [...(entry.tags || []), newTag] }\n        : entry\n    ));\n  };\n\n  const handleExport = () => {\n    const exportData = {\n      entries,\n      categories,\n      version: '1.0'\n    };\n    const blob = new Blob([JSON.stringify(exportData, null, 2)], { type: 'application/json' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `notebook-export-${new Date().toISOString()}.json`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };\n\n  const handleImport = (event) => {\n    const file = event.target.files?.[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        try {\n          const importedData = JSON.parse(e.target.result);\n          if (importedData.version && importedData.entries) {\n            setEntries(prev => [...prev, ...importedData.entries]);\n            if (importedData.categories) {\n              setCategories(prev => [...new Set([...prev, ...importedData.categories])]);\n            }\n          }\n        } catch (error) {\n          console.error('Error importing notebook:', error);\n        }\n      };\n      reader.readAsText(file);\n    }\n  };\n\n  const handleAddNotebook = () => {\n    setNotebookDialogData({ name: '' });\n    setNotebookDialogMode('add');\n    setNotebookDialogOpen(true);\n  };\n\n  const handleEditNotebook = (notebook) => {\n    setNotebookDialogData({ id: notebook.id, name: notebook.name });\n    setNotebookDialogMode('edit');\n    setNotebookDialogOpen(true);\n  };\n\n  const handleDeleteNotebook = (notebookId) => {\n    if (notebooks.length === 1) {\n      // Don't allow deleting the last notebook\n      return;\n    }\n\n    setNotebooks(prev => {\n      const filtered = prev.filter(n => n.id !== notebookId);\n      if (currentNotebookId === notebookId) {\n        // If we're deleting the current notebook, switch to another one\n        setCurrentNotebookId(filtered[0].id);\n      }\n      return filtered;\n    });\n  };\n\n  const handleNotebookDialogSave = () => {\n    if (!notebookDialogData.name.trim()) return;\n\n    if (notebookDialogMode === 'add') {\n      const newNotebook = {\n        id: Date.now().toString(),\n        name: notebookDialogData.name.trim(),\n        entries: []\n      };\n      setNotebooks(prev => [...prev, newNotebook]);\n      setCurrentNotebookId(newNotebook.id);\n    } else {\n      setNotebooks(prev => prev.map(notebook =>\n        notebook.id === notebookDialogData.id\n          ? { ...notebook, name: notebookDialogData.name.trim() }\n          : notebook\n      ));\n    }\n    setNotebookDialogOpen(false);\n  };\n\n  const filteredAndSortedEntries = entries\n    .filter(entry => {\n      const matchesSearch = entry.content.toLowerCase().includes(searchQuery.toLowerCase()) ||\n                          entry.metadata?.modelName?.toLowerCase().includes(searchQuery.toLowerCase()) ||\n                          (entry.tags || []).some(tag => tag.toLowerCase().includes(searchQuery.toLowerCase()));\n      const matchesCategory = selectedCategory === 'All' || entry.category === selectedCategory;\n      return matchesSearch && matchesCategory;\n    })\n    .sort((a, b) => {\n      const aValue = sortBy === 'timestamp' ? a.timestamp : a.content;\n      const bValue = sortBy === 'timestamp' ? b.timestamp : b.content;\n      return sortDirection === 'desc' ? \n        bValue.localeCompare(aValue) :\n        aValue.localeCompare(bValue);\n    });\n\n  return (\n    <>\n      <FloatingButton\n        color=\"primary\"\n        onClick={() => setIsOpen(true)}\n        aria-label=\"open notebook\"\n      >\n        <NotebookIcon />\n      </FloatingButton>\n\n      <StyledDrawer\n        anchor=\"right\"\n        open={isOpen}\n        onClose={() => setIsOpen(false)}\n      >\n        <NotebookHeader>\n          <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n            <Typography variant=\"h6\">My Notebooks</Typography>\n            <Tooltip title=\"Add New Notebook\">\n              <IconButton size=\"small\" onClick={handleAddNotebook}>\n                <AddIcon />\n              </IconButton>\n            </Tooltip>\n          </Box>\n          <Box sx={{ display: 'flex', gap: 1 }}>\n            <FormControl size=\"small\" sx={{ minWidth: 120 }}>\n              <Select\n                value={currentNotebookId}\n                onChange={(e) => setCurrentNotebookId(e.target.value)}\n                variant=\"outlined\"\n                sx={{ height: 32 }}\n              >\n                {notebooks.map(notebook => (\n                  <MenuItem key={notebook.id} value={notebook.id}>\n                    {notebook.name}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n            <Tooltip title=\"Edit Current Notebook\">\n              <IconButton \n                size=\"small\" \n                onClick={() => handleEditNotebook(currentNotebook)}\n              >\n                <EditIcon />\n              </IconButton>\n            </Tooltip>\n            <Tooltip title={notebooks.length === 1 ? \"Cannot delete the last notebook\" : \"Delete Current Notebook\"}>\n              <span>\n                <IconButton \n                  size=\"small\" \n                  onClick={() => handleDeleteNotebook(currentNotebookId)}\n                  disabled={notebooks.length === 1}\n                >\n                  <DeleteIcon />\n                </IconButton>\n              </span>\n            </Tooltip>\n            <Tooltip title=\"Export Notebook\">\n              <IconButton onClick={handleExport}>\n                <ExportIcon />\n              </IconButton>\n            </Tooltip>\n            <Tooltip title=\"Import Notebook\">\n              <IconButton component=\"label\">\n                <input\n                  type=\"file\"\n                  hidden\n                  accept=\".json\"\n                  onChange={handleImport}\n                />\n                <ImportIcon />\n              </IconButton>\n            </Tooltip>\n            <IconButton onClick={() => setIsOpen(false)}>\n              <CloseIcon />\n            </IconButton>\n          </Box>\n        </NotebookHeader>\n\n        <Box sx={{ p: 2, borderBottom: 1, borderColor: 'divider' }}>\n          <TextField\n            fullWidth\n            placeholder=\"Search entries...\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon />\n                </InputAdornment>\n              ),\n            }}\n            size=\"small\"\n          />\n          <Box sx={{ mt: 2, display: 'flex', gap: 1, flexWrap: 'wrap' }}>\n            <Chip\n              label=\"All\"\n              onClick={() => setSelectedCategory('All')}\n              color={selectedCategory === 'All' ? 'primary' : 'default'}\n            />\n            {categories.map(category => (\n              <Chip\n                key={category}\n                label={category}\n                onClick={() => setSelectedCategory(category)}\n                color={selectedCategory === category ? 'primary' : 'default'}\n              />\n            ))}\n          </Box>\n        </Box>\n\n        <NotebookContent>\n          {filteredAndSortedEntries.length === 0 ? (\n            <EmptyState>\n              <NoteAddIcon />\n              <Typography variant=\"body1\">\n                {searchQuery\n                  ? 'No entries match your search'\n                  : 'Your notebook is empty. Drag and drop messages here or use the \"Add to Notebook\" option in message menus.'}\n              </Typography>\n            </EmptyState>\n          ) : (\n            filteredAndSortedEntries.map((entry) => (\n              <NotebookEntry key={entry.id} elevation={1}>\n                <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 1 }}>\n                  <Box>\n                    <Typography variant=\"caption\" color=\"textSecondary\">\n                      {new Date(entry.timestamp).toLocaleString()}\n                    </Typography>\n                    <Chip\n                      size=\"small\"\n                      label={entry.category || 'General'}\n                      sx={{ ml: 1 }}\n                    />\n                  </Box>\n                  <Box>\n                    <Tooltip title=\"Edit\">\n                      <IconButton size=\"small\" onClick={() => handleEdit(entry)}>\n                        <EditIcon fontSize=\"small\" />\n                      </IconButton>\n                    </Tooltip>\n                    <Tooltip title=\"Delete\">\n                      <IconButton size=\"small\" onClick={() => handleDelete(entry.id)}>\n                        <DeleteIcon fontSize=\"small\" />\n                      </IconButton>\n                    </Tooltip>\n                  </Box>\n                </Box>\n                <ReactMarkdown>{entry.content}</ReactMarkdown>\n                {entry.metadata && (\n                  <Typography variant=\"caption\" color=\"textSecondary\" sx={{ mt: 1, display: 'block' }}>\n                    From: {entry.metadata.modelName || 'Unknown Model'}\n                  </Typography>\n                )}\n                {entry.tags && entry.tags.length > 0 && (\n                  <Box sx={{ mt: 1, display: 'flex', gap: 0.5, flexWrap: 'wrap' }}>\n                    {entry.tags.map(tag => (\n                      <Chip\n                        key={tag}\n                        label={tag}\n                        size=\"small\"\n                        variant=\"outlined\"\n                      />\n                    ))}\n                  </Box>\n                )}\n              </NotebookEntry>\n            ))\n          )}\n        </NotebookContent>\n      </StyledDrawer>\n\n      <Dialog\n        open={notebookDialogOpen}\n        onClose={() => setNotebookDialogOpen(false)}\n      >\n        <DialogTitle>\n          {notebookDialogMode === 'add' ? 'Add New Notebook' : 'Edit Notebook'}\n        </DialogTitle>\n        <DialogContent>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            label=\"Notebook Name\"\n            fullWidth\n            value={notebookDialogData.name}\n            onChange={(e) => setNotebookDialogData(prev => ({ ...prev, name: e.target.value }))}\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setNotebookDialogOpen(false)}>Cancel</Button>\n          <Button onClick={handleNotebookDialogSave} variant=\"contained\">\n            {notebookDialogMode === 'add' ? 'Add' : 'Save'}\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      <Dialog\n        open={editDialogOpen}\n        onClose={() => setEditDialogOpen(false)}\n        maxWidth=\"md\"\n        fullWidth\n      >\n        <DialogTitle>Edit Entry</DialogTitle>\n        <DialogContent>\n          <TextField\n            fullWidth\n            multiline\n            rows={4}\n            value={editingEntry?.newContent || ''}\n            onChange={(e) => setEditingEntry(prev => ({ ...prev, newContent: e.target.value }))}\n            sx={{ mt: 2 }}\n          />\n          <FormControl fullWidth sx={{ mt: 2 }}>\n            <InputLabel>Category</InputLabel>\n            <Select\n              value={editingEntry?.newCategory || 'General'}\n              onChange={(e) => setEditingEntry(prev => ({ ...prev, newCategory: e.target.value }))}\n              label=\"Category\"\n            >\n              {categories.map(category => (\n                <MenuItem key={category} value={category}>\n                  {category}\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n          <Box sx={{ mt: 2 }}>\n            <Typography variant=\"subtitle2\" gutterBottom>\n              Tags\n            </Typography>\n            <Box sx={{ display: 'flex', gap: 0.5, flexWrap: 'wrap' }}>\n              {editingEntry?.newTags?.map(tag => (\n                <Chip\n                  key={tag}\n                  label={tag}\n                  onDelete={() => setEditingEntry(prev => ({\n                    ...prev,\n                    newTags: prev.newTags.filter(t => t !== tag)\n                  }))}\n                />\n              ))}\n              <TextField\n                size=\"small\"\n                placeholder=\"Add tag...\"\n                onKeyPress={(e) => {\n                  if (e.key === 'Enter' && e.target.value) {\n                    setEditingEntry(prev => ({\n                      ...prev,\n                      newTags: [...(prev.newTags || []), e.target.value]\n                    }));\n                    e.target.value = '';\n                  }\n                }}\n              />\n            </Box>\n          </Box>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setEditDialogOpen(false)}>Cancel</Button>\n          <Button onClick={handleSaveEdit} variant=\"contained\">\n            Save Changes\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n}\n\nexport default Notebook; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}